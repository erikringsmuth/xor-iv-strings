<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>XOR IV with Strings</title>
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
</head>
<body>
<pre>
             IV <input type="text" id="iv" size="32" placeholder="Original IV" value="3bbdce68b2736ed96972d56865ad82a2"/>
Original string <input type="text" id="original" size="16" placeholder="Original String" value='{"sub":"012345"'/>
  Forged string <input type="text" id="new" size="16" placeholder="New String" value='{"sub":"987654"'/>
                <button id="xor">XOR</button>
     Forged IV: <span id="result"></span>
</pre>
<script>
  'use strict';
  document.querySelector('#xor').addEventListener('click', function () {
    var iv = document.querySelector('#iv').value;
    var a = document.querySelector('#original').value;
    var b = document.querySelector('#new').value;

    var result = new Array(16);
    for (var i = 0; i < 16; i++) {
      result[i] = ("0" + (a.charCodeAt(i) ^ b.charCodeAt(i) ^ parseInt(iv.substr(2 * i, 2), 16)).toString(16)).substr(-2);
    }

    document.querySelector('#result').innerText = result.join('');
  });
</script>
</body>
</html>